<!DOCTYPE html>
<div id="container"></div>
<script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
<div id="capacity-chart">
</div>
<script>

const capacityChartContainer = "#capacity-chart";

const MARGIN_LEFT = 50;
const MARGIN_RIGHT = 50;
const MARGIN_TOP = 20;
const MARGIN_BOTTOM = 20;

const SVG_WIDTH = 800;
const SVG_HEIGHT = 400;

const CHART_WIDTH = SVG_WIDTH - MARGIN_LEFT - MARGIN_RIGHT;
const CHART_HEIGHT = SVG_HEIGHT - MARGIN_TOP - MARGIN_BOTTOM;


const BACKEND_CAPACITY_URL = "http://localhost:8008/visualizer/capacity";


// append the svg object to the body of the page
const svg = d3.select(capacityChartContainer)
  .append("svg")
    .attr("width", SVG_WIDTH)
    .attr("height", SVG_HEIGHT)
  .append("g")
    .attr("transform", `translate(${MARGIN_LEFT}, ${MARGIN_TOP})`);



function drawChart(data)  {
    console.log(data);
}

fetch(BACKEND_CAPACITY_URL).then(response => {
  if (!response.ok) {
    throw new Error("Network response was not ok " + response.statusText);
  }
  return response.json();
}).then(data => {
  drawChart(data);
}).catch(error => {
  console.error("There was a problem with the fetch operation:", error);
});

</script>