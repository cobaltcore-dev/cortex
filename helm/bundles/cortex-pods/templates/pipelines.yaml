---
apiVersion: cortex.cloud/v1alpha1
kind: Pipeline
metadata:
  name: pods-scheduler
spec:
  schedulingDomain: pods
  description: |
    This pipeline is used to schedule pods onto nodes.
  type: filter-weigher
  createDecisions: true
  filters:
    - name: taint
      description: |
        Filters nodes based on taints, excluding nodes with NoSchedule taints
        unless the pod has matching tolerations.
    - name: nodeaffinity
      description: |
        Filters nodes based on pod's node affinity requirements, matching
        nodes that satisfy the specified label selectors.
          knowledges: []
    - name: nodecapacity
      description: |
        Filters nodes based on the amount of allocatable resources,
        excluding nodes with insufficient resources.
  weighers:
    - name: binpack
      description: |
        This steps prefers nodes with a higher utilization after the workload is placed,
        by calculating a weighted average of the individual resource utilizations.
