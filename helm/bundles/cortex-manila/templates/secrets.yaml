---
apiVersion: v1
kind: Secret
metadata:
  name: cortex-manila-postgres
data:
  host: {{ .Values.postgres.host | b64enc | quote }}
  user: {{ .Values.postgres.user | b64enc | quote }}
  password: {{ .Values.postgres.password | b64enc | quote }}
  database: {{ .Values.postgres.database | b64enc | quote }}
  port: {{ .Values.postgres.port | b64enc | quote }}
---
apiVersion: v1
kind: Secret
metadata:
  name: cortex-manila-prometheus
data:
  url: {{ .Values.prometheus.url | b64enc | quote }}
---
apiVersion: v1
kind: Secret
metadata:
  name: cortex-manila-openstack-keystone
data:
  url: {{ .Values.openstack.url | b64enc | quote }}
  availability: {{ .Values.openstack.availability | b64enc | quote }}
  username: {{ .Values.openstack.username | b64enc | quote }}
  password: {{ .Values.openstack.password | b64enc | quote }}
  projectName: {{ .Values.openstack.projectName | b64enc | quote }}
  userDomainName: {{ .Values.openstack.userDomainName | b64enc | quote }}
  projectDomainName: {{ .Values.openstack.projectDomainName | b64enc | quote }}
{{- if .Values.prometheus.sso.enabled }}
---
apiVersion: v1
kind: Secret
metadata:
  name: cortex-manila-prometheus-sso
data:
  cert: {{ .Values.prometheus.sso.cert | b64enc | quote }}
  key: {{ .Values.prometheus.sso.key | b64enc | quote }}
  selfSigned: {{ .Values.prometheus.sso.selfSigned | b64enc | quote }}
{{- end }}
{{- if .Values.openstack.sso.enabled }}
---
apiVersion: v1
kind: Secret
metadata:
  name: cortex-manila-openstack-sso
data:
  cert: {{ .Values.openstack.sso.cert | b64enc | quote }}
  key: {{ .Values.openstack.sso.key | b64enc | quote }}
  selfSigned: {{ .Values.openstack.sso.selfSigned | b64enc | quote }}
{{- end }}
