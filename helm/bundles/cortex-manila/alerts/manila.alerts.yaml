groups:
- name: cortex-manila-alerts
  rules:
  - alert: CortexManilaInitialPlacementDown
    expr: |
      up{component="cortex-manila-scheduler", namespace="cortex-manila"} != 1 or
      absent(up{component="cortex-manila-scheduler", namespace="cortex-manila"})
    for: 5m
    labels:
      context: liveness
      dashboard: cortex/cortex
      service: cortex
      severity: warning
      support_group: workload-management
      playbook: docs/support/playbook/cortex/down
    annotations:
      summary: "Cortex initial placement for Manila is down"
      description: >
        The Cortex initial placement is down. Initial placement requests from Manila will
        not be served. This is no immediate problem, since Manila will continue
        placing new shares. However, the placement will be less desirable.

